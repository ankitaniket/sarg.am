'use client';

import React, { useRef } from 'react';
import { gsap } from 'gsap';
import { useGSAP } from '@gsap/react';

const ratio = 747 / 208;
const mult = 100;

export const SvgLogo = () => {
  const pathRef = useRef<SVGPathElement>(null);

  useGSAP(() => {
    gsap.to(pathRef.current, {
      duration: 20,
      ease: 'back',
      strokeDasharray: '100 100',
    });
  });

  return (
    <svg
      width={ratio * mult}
      height={1 * mult}
      viewBox="0 0 747 208"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        ref={pathRef}
        d="M7 114.5C14 115.5 28.7273 113.5 46.5 90.5001C55 79.5001 69.9 60.7001 75.5 49.5001L92.5 20.0002C87.6667 25.5002 81.3 41.4001 94.5 61.0001C107.7 80.6001 106.667 95.5001 104.5 100.5C100 110.333 84.2 125.5 57 107.5C69.5 115 100.1 126.3 122.5 111.5C144.9 96.7001 160.5 71.0001 165.5 60.0001C173 46.1668 195.7 21.8002 226.5 35.0002C242.1 41.0002 229.667 61.8335 221.5 71.5001L197 98.5001C172.5 123 143.9 123.3 159.5 72.5001C164.333 60.6668 178.6 36.1002 197 32.5002C220 28.0002 233.5 36.0001 234.5 45.0001C235.3 52.2001 223.167 81.3335 217 95.0001C211.36 107.5 218 125.5 250.5 104.5C261 96.0001 269.5 90.0001 292.5 46.5001L306.5 26.0002C314 15 300.5 -4 281 16.5002C278.5 19.3334 274.5 25 274.5 29.5C274.5 52 306 42.1667 319 33.5C326 27.5 341 33.5 335.5 49L320 92C314 105 319 128 347.5 105C359 95.7193 377 60 393.5 45.5C402.167 37.3333 424 23.7 442 34.5C460 45.3 430.167 81 413 97.5C397.833 112 368.9 129.6 374.5 84C380.1 38.4 417.5 29.3333 435.5 30.5C442 31.5 453.2 38.9 446 60.5C438.8 82.1 420.333 138.167 412 163.5L402.5 187C399 194.5 388 208.3 372 203.5C356 198.7 361.667 181.5 366.5 173.5C381 146.5 423.2 131.5 464 101.5C473.167 93.5 491.441 71.6274 501.5 53C515 28 535.5 26 558.5 34.5C564.167 36.8333 568.5 46 555 64.5L524 102.5C506 120.5 475.5 119.5 491.5 72C496.167 53 515.7 18.6 556.5 33C568.5 38.6 558.167 68.3333 551.5 82.5C548.333 89.6667 543.1 105.3 547.5 110.5C553 117 560.5 119 574 106.5C587.5 94 611 36 624 33C634.4 30.6 611.667 89.6667 599 119.5C609.667 89.6667 639.4 30.3 673 31.5C706.6 32.7 676.667 89 657.5 117C668 84.6667 698.1 22.6 734.5 33C743.3 35.8 740.167 50.8333 737.5 58L724.5 94.5C722 102 720.5 117 734.5 117C752 117 764 92.5 765 89"
        stroke="white"
        strokeWidth="13"
        strokeLinecap="round"
        strokeLinejoin="round"
        pathLength="100"
        strokeDasharray="100 100"
        strokeDashoffset="99.94"
      >
        <animate
          attributeName="stroke-dashoffset"
          from="99.94"
          to="0"
          dur="6s"
          fill="freeze"
          calcMode="spline"
          keyTimes="0;1"
          keySplines="0.37 0 0.63 1;"
        />
      </path>
    </svg>
  );
};
